var FileComponent=function(u,a){var c=div({cls:"file"}),l=div({cls:"name"},a.name),f=div({cls:"hash"},a.hash),e=div({cls:"state"},a.state),b=div({cls:"btn-group"}),h=div({cls:"chunks"}),d={},m=div({cls:"btn",onclick:function(){console.log("Removing File");a.handler.remove()}},"X"),n=div({cls:"btn",onclick:function(){console.log("Starting File");a.handler.start()}},"Start"),p=div({cls:"btn",onclick:function(){console.log("Stopping File");alert("stopping file")}},"Stop"),q=div({cls:"btn",onclick:function(){console.log("Resuming File");
alert("resuming file");a.handler.start()}},"Resume");div({cls:"btn",onclick:function(){console.log("Viewing Details");alert("viewing details")}},"Details");var r=div({cls:"btn",onclick:function(){console.log("Pausing File");alert("pausing file")}},"Pause"),t=div({cls:"btn",onclick:function(){window.gotoPage("/file/"+a.slug)}},"View"),k=function(){H.empty(e);e.appendChild(div(a.state));"finished"===a.state&&e.classList.add("finished");g()},g=function(){H.empty(b);"new"===a.state&&b.appendChild(n);
"uploading"===a.state&&b.appendChild(p);"uploading"===a.state&&b.appendChild(r);"paused"!==a.state&&"incomplete"!==a.state||b.appendChild(q);"finished"===a.state&&b.appendChild(t);"finished"!==a.state&&"new"!==a.state||b.appendChild(m)};return{addChunk:function(a){var b=new ChunkComponent(a);d[a.hash]=b;h.appendChild(b.render())},finishChunk:function(a){d[a.hash].finish()},updateChunk:function(a,b){d[a.hash].setProgress(b.percent)},setState:k,setHash:function(){H.empty(f);f.appendChild(div(a.hash))},
remove:function(){c.parentNode.removeChild(c)},render:function(){H.empty(c);g();var a=div({cls:"left"},l,f),d=div({cls:"right"},e);c.appendChild(div(div({cls:"header"},a,d),h,b));return c},finish:function(b){a.slug=b.slug;g();k()}}};
